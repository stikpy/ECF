"use strict";(()=>{var e={};e.id=692,e.ids=[692],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},60901:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>x,requestAsyncStorage:()=>y,routeModule:()=>w,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>S});var s={};r.r(s),r.d(s,{DELETE:()=>p,GET:()=>o,POST:()=>d,PUT:()=>l}),r(95655);var i=r(83323),a=r(54647),n=r(66886),u=r(53524);let c=new u.PrismaClient,o=async e=>{let t=e.url.split("services/")[1];try{let e=await c.services.findFirst({where:{id:parseInt(t)}});if(!e)return new n.Z(JSON.stringify({message:"Service non trouv\xe9"}),{status:404});return new n.Z(JSON.stringify(e),{status:200})}catch(e){return new n.Z(JSON.stringify({message:"Erreur lors de la r\xe9cup\xe9ration du service"}),{status:500})}finally{await c.$disconnect()}},d=async e=>{try{let t=await e.json(),{title:r,description:s,price:i}=t,a=await c.services.create({data:{title:r,description:s}});return new n.Z(JSON.stringify(a),{status:200})}catch(e){return new n.Z(JSON.stringify({message:"Erreur lors de la cr\xe9ation du service"}),{status:500})}finally{await c.$disconnect()}},l=async e=>{try{let t=await e.json();if("number"!=typeof t.id)return new n.Z(JSON.stringify({message:"ID invalide fourni"}),{status:400});let r=await c.services.update({where:{id:t.id},data:{title:t.title,description:t.description}});return new n.Z(JSON.stringify(r),{status:200})}catch(e){return new n.Z(JSON.stringify({message:"Erreur lors de la mise \xe0 jour du service"}),{status:500})}finally{await c.$disconnect()}},p=async e=>{try{let t=parseInt(e.url.split("services/")[1]);return await c.services.delete({where:{id:t}}),new n.Z(JSON.stringify({message:"Service supprim\xe9 avec succ\xe8s"}),{status:200})}catch(e){return new n.Z(JSON.stringify({message:"Erreur lors de la suppression du service"}),{status:500})}finally{await c.$disconnect()}},v=i.AppRouteRouteModule,w=new v({definition:{kind:a.x.APP_ROUTE,page:"/api/services/[id]/route",pathname:"/api/services/[id]",filename:"route",bundlePath:"app/api/services/[id]/route"},resolvedPagePath:"/Users/gabrielkhaldi/Desktop/Studi/Git/Studi/ECF/vparrot/app/api/services/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:y,staticGenerationAsyncStorage:g,serverHooks:f,headerHooks:m,staticGenerationBailout:S}=w,x="/api/services/[id]/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7882,3497,9727,6886],()=>r(60901));module.exports=s})();