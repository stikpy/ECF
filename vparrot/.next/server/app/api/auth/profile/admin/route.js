"use strict";(()=>{var e={};e.id=657,e.ids=[657],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2918:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>y,originalPathname:()=>E,requestAsyncStorage:()=>g,routeModule:()=>f,serverHooks:()=>h,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>S});var a={};r.r(a),r.d(a,{DELETE:()=>c,GET:()=>d,POST:()=>p}),r(95655);var i=r(83323),s=r(54647),n=r(53524),o=r(66886);let u=new n.PrismaClient;async function l(){let e=await u.users.findMany();return e}async function d(e){try{let e=await l();return new o.Z(JSON.stringify(e),{status:200})}catch(e){return new o.Z(JSON.stringify({message:"Error fetching users"}),{status:500})}}async function p(e){try{let t=await e.json();console.log("Data re\xe7ue:",t);let r=await u.users.create({data:{email:t.email,firstname:t.name,lastname:t.lastname,password:t.password,role:t.role="USER"}});return new o.Z(JSON.stringify(r),{status:200})}catch(e){return console.error("Erreur lors de la cr\xe9ation de l'utilisateur:",e),new o.Z(JSON.stringify({message:"Error creating user"}),{status:500})}}async function c(e){try{let t=await e.json(),r=await u.users.delete({where:{id:t.id}});return new o.Z(JSON.stringify(r),{status:200})}catch(e){return new o.Z(JSON.stringify({message:"Error deleting user"}),{status:500})}}let m=i.AppRouteRouteModule,f=new m({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/profile/admin/route",pathname:"/api/auth/profile/admin",filename:"route",bundlePath:"app/api/auth/profile/admin/route"},resolvedPagePath:"/Users/gabrielkhaldi/Desktop/Studi/Git/Studi/ECF/vparrot/app/api/auth/profile/admin/route.tsx",nextConfigOutput:"",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:w,serverHooks:h,headerHooks:y,staticGenerationBailout:S}=f,E="/api/auth/profile/admin/route"}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7882,3497,9727,6886],()=>r(2918));module.exports=a})();