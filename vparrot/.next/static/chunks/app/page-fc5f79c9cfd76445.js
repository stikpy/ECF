(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{963:function(e,s,a){Promise.resolve().then(a.bind(a,40074))},45801:function(e,s,a){"use strict";var t=a(57437),l=a(61396),i=a.n(l),r=a(16691),n=a.n(r);a(2265),s.Z=e=>{let{id:s,imageUrl:a,title:l,description:r,price:c,km:d,year:m}=e;return(0,t.jsx)(i(),{href:"/cars/".concat(s),children:(0,t.jsxs)("div",{className:"card w-full bg-base-100 shadow-xl cursor-pointer",children:[(0,t.jsx)("h2",{className:"card-title",children:l}),(0,t.jsx)(n(),{className:"card-image",src:a,alt:l,width:1200,height:800,priority:!0}),(0,t.jsx)("p",{className:"mx-2",children:r}),(0,t.jsxs)("div",{className:"card-actions flex justify-between items-center m-4",children:[(0,t.jsxs)("p",{className:"mb-0 underline",children:[c," €"]}),(0,t.jsxs)("p",{className:"mb-0 underline",children:[d," km"]}),(0,t.jsx)("p",{className:"mb-0 underline",children:m}),(0,t.jsx)("button",{className:"btn btn-primary",children:"Voir la fiche"})]})]})})}},22423:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return n}});var t=a(57437),l=a(2265),i=a(29222),r=a(45801);function n(){let[e,s]=(0,l.useState)([]),[a,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,o]=(0,l.useState)(""),[x,u]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[g,j]=(0,l.useState)(""),[f,b]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=async()=>{try{let e=await i.Z.get("/api/cars");s(e.data),b(e.data)}catch(e){console.error("Erreur de r\xe9cup\xe9ration des donn\xe9es:",e)}};e()},[]),(0,t.jsxs)("div",{className:"m-4",children:[(0,t.jsxs)("div",{className:"collapse collapse-arrow bg-base-200",children:[(0,t.jsx)("input",{type:"checkbox"}),(0,t.jsx)("p",{className:"collapse-title text-xl font-medium",children:"Filtrer les annonces"}),(0,t.jsxs)("div",{className:"collapse-content",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"minPrice",children:"Prix Minimum:"}),(0,t.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"minPrice",name:"minPrice",placeholder:"",value:a,onChange:e=>n(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"maxPrice",children:"Prix Maximum:"}),(0,t.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"maxPrice",name:"maxPrice",placeholder:"",value:c,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"minYear",children:"Ann\xe9e Minimum:"}),(0,t.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"minYear",name:"minYear",placeholder:"",value:m,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"maxYear",children:"Ann\xe9e Maximum:"}),(0,t.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"maxYear",name:"maxYear",placeholder:"",value:x,onChange:e=>u(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"minKm",children:"Kilom\xe9trage Minimum:"}),(0,t.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"minKm",name:"minKm",placeholder:"",value:h,onChange:e=>p(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"maxKm",children:"Kilom\xe9trage Maximum:"}),(0,t.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"maxKm",name:"maxKm",placeholder:"",value:g,onChange:e=>j(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"flex m-4 gap-4 justify-center",children:[(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>{let s=e.filter(e=>(""===a||e.price>=parseFloat(a))&&(""===c||e.price<=parseFloat(c))&&(""===m||e.year>=parseInt(m))&&(""===x||e.year<=parseInt(x))&&(""===h||e.km>=parseFloat(h))&&(""===g||e.km<=parseFloat(g)));b(s)},children:"Appliquer les filtres"}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>{n(""),d(""),o(""),u(""),p(""),j(""),b(e)},children:"R\xe9initialiser les filtres"})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 text-center justify-center m-4",children:f.map(e=>(0,t.jsx)(r.Z,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,price:e.price,km:e.km,year:e.year},e.id))})]})}},40074:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return u}});var t=a(57437),l=a(2265),i=a(45801);function r(e){let{name:s,date:a,rating:l,message:i,id:r}=e,n=new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"numeric",day:"numeric"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"card w-full  max-w-xl mx-auto bg-base-100 shadow-xl cursor-pointer",children:(0,t.jsxs)("div",{className:"m-3",children:[(0,t.jsx)("h2",{className:"card-title",children:s}),(0,t.jsx)("p",{className:"clamp-2 flex-grow",children:i||"Aucun message fourni"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{children:n}),(0,t.jsxs)("span",{children:["Note : ",l," ⭐"]}),(0,t.jsx)("button",{onClick:()=>{let e=document.getElementById("".concat(r));e&&e.showModal()},className:"hidden lg:block text-end text-blue-500 hover:underline ",children:"Lire la suite"})]})]})}),(0,t.jsxs)("dialog",{id:"".concat(r),className:"modal",children:[(0,t.jsxs)("form",{method:"dialog",className:"modal-box",children:[(0,t.jsx)("h2",{className:"card-title",children:s}),(0,t.jsx)("p",{children:i||"Aucun message fourni"}),(0,t.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsx)("span",{children:n}),(0,t.jsxs)("span",{children:["Note : ",l," ⭐"]})]})]}),(0,t.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,t.jsx)("button",{children:"close"})})]})]})}var n=a(61396),c=a.n(n),d=a(29222),m=a(22423),o=a(16691),x=a.n(o);function u(){let[e,s]=(0,l.useState)({price:"",year:"",title:""}),[a,n]=(0,l.useState)([]),[o,u]=(0,l.useState)([]),[h,p]=(0,l.useState)([]),[g,j]=(0,l.useState)([]);(0,l.useEffect)(()=>{let a=async()=>{try{let[a,t,l,i]=await Promise.all([d.Z.get("/api/cars"),d.Z.get("/api/testimonials"),d.Z.get("/api/settings/textsContents"),d.Z.get("/api/services")]);n(a.data),u(t.data),p(l.data),j(i.data),s({...e,price:a.data})}catch(e){console.error("Erreur de r\xe9cup\xe9ration des donn\xe9es:",e)}};a()},[e]);let f=function(e){let s=h.find(s=>s.slug===e);return s?s.content:""}("header-text"),b=a.filter(s=>(!e.price||s.price<=parseInt(e.price))&&(!e.year||s.year>=parseInt(e.year))&&(!e.title||s.title.includes(e.title)));return b.length>0&&[...b.map(e=>e.price)],b.length>0&&[...b.map(e=>e.price)],(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("main",{children:[(0,t.jsx)("section",{children:(0,t.jsxs)("div",{className:"hero h-1/2",style:{backgroundImage:"url(/images/iStock-1407084508.jpg)"},children:[(0,t.jsx)("div",{className:"hero-overlay bg-opacity-50"}),(0,t.jsx)("div",{className:"hero-content text-center text-neutral-content",children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h1",{className:"mb-5 text-6xl no-wrap font-bold",children:"Garage V. Parrot"}),(0,t.jsx)("p",{"data-slug":"header-text",className:"mb-5 text-2xl",children:f})]})})]})}),(0,t.jsxs)("section",{className:"flex flex-col justify-center flex-grow  ",children:[(0,t.jsx)("h2",{children:"Nos Services"}),(0,t.jsx)("div",{className:"m-6",children:(0,t.jsx)("div",{className:"m-4 grid grid-cols-4 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2",children:g.map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(x(),{className:"rounded-full ",src:e.imageUrl,width:100,height:100,alt:e.title,priority:!0}),(0,t.jsx)("p",{children:e.title})]},e.id))})})]}),(0,t.jsx)("div",{className:"flex-grow bg-gray-300 h-[30px]"}),(0,t.jsxs)("section",{children:[(0,t.jsx)(m.default,{}),(0,t.jsx)("div",{className:"m-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:b.map(e=>(0,t.jsx)(i.Z,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,price:e.price,km:e.km,year:e.year},e.id))})]}),(0,t.jsx)("div",{className:"flex-grow bg-gray-300 h-[30px]"}),(0,t.jsxs)("section",{className:"flex flex-col justify-center flex-grow  ",children:[(0,t.jsxs)("div",{className:"flex content-center h-[200px] bg-cover bg-center bg-no-repeat  justify-evenly",children:[(0,t.jsx)(x(),{style:{width:"auto",height:"auto"},className:"m-6 rounded-lg shadow-lg ",src:"/images/iStock-1440540891.jpg",alt:"car",width:500,height:100,priority:!0}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("p",{className:"m-6 text-lg bold self-center underline ",children:"Partager votre exp\xe9rience:"}),(0,t.jsx)(c(),{className:"btn btn-primary mx-5 self-center",href:"/testimonialAddForm",children:"Laisser un commentaire"})]})]}),(0,t.jsx)("div",{className:"m-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 justify-center",children:o&&o.length>0&&o.map(e=>e.isValidated?(0,t.jsx)(r,{id:e.id,name:e.name,date:e.date,rating:e.rating,message:e.message},e.id):null)})]})]})})}}},function(e){e.O(0,[750,690,396,691,971,596,744],function(){return e(e.s=963)}),_N_E=e.O()}]);