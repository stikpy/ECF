(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{72431:function(){},17977:function(e,s,t){Promise.resolve().then(t.bind(t,95433)),Promise.resolve().then(t.bind(t,43129)),Promise.resolve().then(t.bind(t,95315)),Promise.resolve().then(t.bind(t,37988))},95433:function(e,s,t){"use strict";t.r(s);var a=t(57437),r=t(2265),i=t(43560),n=t(29222);s.default=()=>{let[e,s]=(0,r.useState)(!1),[t,o]=(0,r.useState)({title:"",description:"",price:0,imageURL:"",subRows:[]}),[l,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=async()=>{try{let e=await n.Z.get("/api/cars");c(e.data)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des voitures :",e)}};e()},[]);let d=(0,r.useMemo)(()=>[{accessorKey:"id",header:"ID",size:80},{accessorKey:"title",header:"Titre",size:140},{accessorKey:"description",header:"Description",size:140},{accessorKey:"price",header:"Prix",size:80},{accessorKey:"imageUrl",header:"Image",size:80}],[]);return(0,a.jsx)("div",{children:(0,a.jsx)(i.ZP,{getSubRows:(e,s)=>e.subRows||void 0,displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"},size:120}},columns:d,data:l,editingMode:"modal",enableColumnOrdering:!0,enableExpanding:!0})})}},43129:function(e,s,t){"use strict";t.r(s);var a=t(57437),r=t(82749);let i=()=>(0,a.jsx)("button",{className:"btn",onClick:()=>(0,r.signOut)({callbackUrl:"/"}),children:"Sign out"});i.displayName="SignOut",s.default=i},95315:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(57437),r=t(2265),i=t(43560),n=t(96507),o=t(52653),l=t(49050),c=t(14565),d=t(81475),u=t(29222);function m(){let[e,s]=(0,r.useState)([]),[t,m]=(0,r.useState)([]),[h,g]=(0,r.useState)({});(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await u.Z.get("/api/testimonials");s(e.data)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des t\xe9moignages:",e)}},x=(e,s)=>{g({...h,[e.id]:{...e,isValidated:s}})},y=async()=>{console.log("Changements en attente avant la mise \xe0 jour:",h);let e=Object.values(h).map(e=>{let{id:s,isValidated:t,status:a}=e;return u.Z.put("/api/testimonials/".concat(s),{id:s,isValidated:t,status:a})});try{await Promise.all(e),console.log("Tous les changements ont \xe9t\xe9 appliqu\xe9s avec succ\xe8s."),m([]),p(),g({}),window.location.reload()}catch(e){console.error("Erreur lors de la mise \xe0 jour des t\xe9moignages:",e)}console.log("Changements en attente apr\xe8s la mise \xe0 jour:",h)};return(0,a.jsxs)("div",{children:[(0,a.jsx)(i.P2,{columns:[{accessorKey:"id",header:"ID",size:80},{accessorKey:"name",header:"Nom",size:140},{accessorKey:"date",header:"Date",Cell:e=>{let{cell:s}=e;return(0,a.jsx)("span",{children:new Date(s.getValue()).toLocaleDateString()})}},{accessorKey:"rating",header:"Note",size:80},{accessorKey:"message",header:"Commentaire"},{accessorKey:"isValidated",header:"Valid\xe9",Cell:e=>{let{cell:s}=e;return(0,a.jsx)("span",{children:s.getValue()?"Oui":"Non"})}},{accessorKey:"status",header:"Statut",Cell:e=>{let{cell:s}=e;return(0,a.jsx)("span",{children:s.row.original.isValidated?"En ligne":"Hors ligne"})}}],data:e,positionActionsColumn:"last",getRowId:e=>e.id,enableRowActions:!0,renderRowActions:e=>{var s,t;let{row:r}=e;return(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(o.Z,{onClick:()=>x(r,!0),style:{backgroundColor:(null===(s=h[r.id])||void 0===s?void 0:s.isValidated)?"lightgrey":"transparent"},children:(0,a.jsx)(c.Z,{})}),(0,a.jsx)(o.Z,{onClick:()=>x(r,!1),style:{backgroundColor:(null===(t=h[r.id])||void 0===t?void 0:t.isValidated)===!1?"lightgrey":"transparent"},children:(0,a.jsx)(d.Z,{})})]})}}),(0,a.jsx)(l.Z,{className:"btn btn-primary m-4",onClick:y,children:"Appliquer les changements"})]})}t(6543)},37988:function(e,s,t){"use strict";t.r(s);var a=t(57437),r=t(2265),i=t(43560),n=t(29222);s.default=()=>{let[e,s]=(0,r.useState)(!1),[t,o]=(0,r.useState)({title:"",description:"",price:"",imageURL:""}),[l,c]=(0,r.useState)([]),d=async()=>{try{let e=await n.Z.get("/api/auth/profile");c(e.data)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es des voitures :",e)}};(0,r.useEffect)(()=>{d()},[]);let u=(0,r.useMemo)(()=>[{accessorKey:"email",header:"Email",size:140},{accessorKey:"lastname",header:"Nom",size:140},{accessorKey:"firstname",header:"Pr\xe9nom",size:80},{accessorKey:"role",header:"Role",size:80}],[]);return(0,a.jsx)("div",{children:(0,a.jsx)(i.P2,{displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"},size:120}},columns:u,data:l,editingMode:"modal",enableColumnOrdering:!0})})}}},function(e){e.O(0,[683,750,454,341,749,646,167,971,864,744],function(){return e(e.s=17977)}),_N_E=e.O()}]);