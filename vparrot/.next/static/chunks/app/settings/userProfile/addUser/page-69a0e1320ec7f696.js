(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{88451:function(e,s,a){Promise.resolve().then(a.bind(a,67810))},29821:function(e,s,a){"use strict";a.r(s);var r=a(57437),t=a(86668),n=a(82303),l=a(87912),i=a(33471),c=a(42948),d=a(61396),o=a.n(d),m=a(2265),u=a(82749);function x(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter(Boolean).join(" ")}s.default=function(e){let{}=e,[s,a]=(0,m.useState)("Dashboard"),d=[{name:"Dashboard",href:"/settings",icon:n.Z,current:!0},{name:"Cars",href:"/settings/carsDataManagement",icon:l.Z,current:!1,submenu:[{name:"Add Car",href:"/settings/carsDataManagement/addCarForm",current:!1}]},{name:"Users",href:"/settings/userProfile",icon:i.Z,current:!1,submenu:[{name:"Add User",href:"/settings/userProfile/addUser",current:!1}]},{name:"Reviews",href:"/settings/testimonailsManagement",icon:c.Z,current:!1,submenu:[{name:"Add Review",href:"/settings/testimonailsManagement/addReview",current:!1}]},{name:"Contenu du site",href:"/settings/contentManagement",icon:c.Z,current:!1,submenu:[{name:"Modifier le site",href:"/settings/contentManagement/updateData",current:!1}]},{name:"Messages",href:"#",icon:t.Z,current:!1}];return(0,r.jsx)("div",{id:"sidebar",className:" h-screen h-full lg:inset-y-0 lg:flex lg:w-72 lg:flex-col",children:(0,r.jsxs)("div",{className:"flex justify-between grow flex-col gap-y-5 overflow-y-auto bg-white px-6 pb-4  rounded-lg border-r-2",children:[(0,r.jsx)("h1",{className:"text-3-xl font-bold",children:"Logo"}),(0,r.jsx)("nav",{className:" flex flex-col",children:(0,r.jsx)("ul",{role:"list",className:"flex flex-l flex-col gap-y-7",children:(0,r.jsx)("li",{children:(0,r.jsx)("ul",{role:"list",className:"-mx-2 space-y-4",children:d.map(e=>(0,r.jsxs)("li",{className:"px-2",children:[(0,r.jsxs)(o(),{href:"".concat(e.href,"/#sidebar"),className:x(e.current?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-2 py-2 text-sm font-medium rounded-md"),onClick:s=>a(e.name),children:[(0,r.jsx)(e.icon,{className:x(e.current?"text-gray-500":"text-gray-400 group-hover:text-gray-500","mr-3 flex-shrink-0 h-6 w-6"),"aria-hidden":"true"}),e.name]}),e.submenu&&(0,r.jsx)("ul",{className:"pl-6 space-y-2",children:e.submenu.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"".concat(e.href,"/#sidebar"),className:x("text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center px-10 py-1 text-sm font-medium rounded-md"),children:e.name})},e.name))})]},e.name))})})})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>(0,u.signOut)(),className:"btn bg-red-500  mx-auto text-white p-2 rounded-lg",children:"Sign Out"})})]})})}},67810:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var r=a(57437),t=a(2265),n=a(29821),l=a(82749),i=a(24033),c=a(29222),d=a(61865),o=a(14866),m=a.n(o);function u(){let[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)(!1),{register:l,handleSubmit:i,formState:{errors:o},reset:u}=(0,d.cI)(),x=async e=>{console.log("form data",e);try{if(!h(e.password)){console.error("Le mot de passe ne r\xe9pond pas aux exigences.");return}if(!/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/.test(e.email)){console.error("Le format de l'e-mail est invalide.");return}let a=await m().hash(e.password,10),r={email:e.email,name:e.name,lastname:e.lastname,password:a},t=await c.Z.post("/api/auth/profile/admin",r);200===t.status?(u(),s(!0)):console.error("Erreur lors de la cr\xe9ation de l'utilisateur:",t.data)}catch(e){console.error("Erreur lors de la soumission du formulaire:",e)}},h=e=>/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/.test(e);return(0,r.jsxs)("div",{className:"w-1/4 h-1/4 justify-center  mx-auto my-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Formulaire d'Utilisateur"}),e?(0,r.jsx)("div",{className:"text-green-500",children:"Utilisateur cr\xe9\xe9 avec succ\xe8s."}):(0,r.jsxs)("form",{onSubmit:i(x),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"text-lg font-medium",children:"Email:"}),(0,r.jsx)("input",{...l("email",{required:"Email is required"}),type:"email",className:"border rounded p-2 ".concat(o.email?"border-red-500":"")}),o.email&&(0,r.jsx)("p",{className:"text-red-500",children:o.email.message})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"text-lg font-medium",children:"Pr\xe9nom:"}),(0,r.jsx)("input",{...l("name",{required:"Name is required"}),type:"text",className:"border rounded p-2 ".concat(o.name?"border-red-500":"")}),o.name&&(0,r.jsx)("p",{className:"text-red-500",children:o.name.message})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"text-lg font-medium",children:"Nom de famille:"}),(0,r.jsx)("input",{...l("lastname",{required:"Lastname is required"}),type:"text",className:"border rounded p-2 ".concat(o.lastname?"border-red-500":"")}),o.lastname&&(0,r.jsx)("p",{className:"text-red-500",children:o.lastname.message})]}),(0,r.jsxs)("div",{className:"flex flex-col relative",children:[(0,r.jsx)("label",{className:"text-lg font-medium",children:"Mot de passe:"}),(0,r.jsx)("input",{...l("password",{required:"Password is required",pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})/,message:"Le mot de passe doit contenir au moins 8 caract\xe8res, 1 majuscule, 1 minuscule, 1 chiffre, 1 caract\xe8re sp\xe9cial"}}),type:a?"text":"password",className:"border rounded p-2 ".concat(o.password?"border-red-500":"")}),(0,r.jsx)("button",{type:"button",onClick:()=>{n(!a)},className:"absolute top-2 right-2 text-gray-600",children:a?"Masquer":"Afficher"}),o.password&&(0,r.jsxs)("p",{className:"text-red-500",children:[o.password.message,(0,r.jsx)("br",{}),"Exemple de mot de passe valide : Abc@1234"]})]}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded",children:"Cr\xe9er Utilisateur"})]})]})}var x=()=>{let[e,s]=(0,t.useState)(!1),a=(0,i.useRouter)(),{data:c}=(0,l.useSession)();return c&&"ADMIN"===c.user.role?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(n.default,{}),(0,r.jsx)(u,{})]})}):(a.push("/accessDenied"),null)}}},function(e){e.O(0,[218,750,454,396,341,749,865,320,971,864,744],function(){return e(e.s=88451)}),_N_E=e.O()}]);