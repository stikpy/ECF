(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{82555:function(e,t,s){Promise.resolve().then(s.bind(s,91945))},81466:function(e,t,s){"use strict";var a=s(3803),i=s(84909),r=s.n(i),l=s(13082),n=s.n(l);s(10387),t.Z=e=>{let{id:t,imageUrl:s,title:i,description:l,price:c,km:d,year:m}=e;return(0,a.jsx)(r(),{href:"/cars/".concat(t),title:"D\xe9tails de l'annonce",children:(0,a.jsxs)("div",{className:"card w-full bg-base-100 shadow-xl cursor-pointer",children:[(0,a.jsx)("h2",{className:"card-title",children:i}),(0,a.jsx)(n(),{className:"card-image",src:s,alt:i,width:1200,height:800,priority:!0}),(0,a.jsx)("p",{className:"mx-2",children:l}),(0,a.jsxs)("div",{className:"card-actions flex justify-between items-center m-4",children:[(0,a.jsxs)("p",{className:"mb-0 underline",children:[c," €"]}),(0,a.jsxs)("p",{className:"mb-0 underline",children:[d," km"]}),(0,a.jsx)("p",{className:"mb-0 underline",children:m}),(0,a.jsx)("button",{className:"btn btn-primary",children:"Voir la fiche"})]})]})})}},61167:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(3803),i=s(10387),r=s(53218),l=s(81466);function n(){let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[m,o]=(0,i.useState)(""),[x,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[g,j]=(0,i.useState)(""),[f,b]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=async()=>{try{let e=await r.Z.get("/api/cars");t(e.data),b(e.data)}catch(e){console.error("Erreur de r\xe9cup\xe9ration des donn\xe9es:",e)}};e()},[]),(0,a.jsxs)("div",{className:"m-4",children:[(0,a.jsxs)("div",{className:"collapse collapse-arrow bg-base-200",children:[(0,a.jsx)("input",{type:"checkbox"}),(0,a.jsx)("p",{className:"collapse-title text-xl font-medium",children:"Filtrer les annonces"}),(0,a.jsxs)("div",{className:"collapse-content",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"minPrice",children:"Prix Minimum:"}),(0,a.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"minPrice",name:"minPrice",placeholder:"",value:s,onChange:e=>n(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"maxPrice",children:"Prix Maximum:"}),(0,a.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"maxPrice",name:"maxPrice",placeholder:"",value:c,onChange:e=>d(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"minYear",children:"Ann\xe9e Minimum:"}),(0,a.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"minYear",name:"minYear",placeholder:"",value:m,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"maxYear",children:"Ann\xe9e Maximum:"}),(0,a.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"maxYear",name:"maxYear",placeholder:"",value:x,onChange:e=>u(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"minKm",children:"Kilom\xe9trage Minimum:"}),(0,a.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"minKm",name:"minKm",placeholder:"",value:h,onChange:e=>p(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"maxKm",children:"Kilom\xe9trage Maximum:"}),(0,a.jsx)("input",{className:"input input-bordered w-full max-w-xs",type:"text",id:"maxKm",name:"maxKm",placeholder:"",value:g,onChange:e=>j(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"flex m-4 gap-4 justify-center",children:[(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>{let t=e.filter(e=>(""===s||e.price>=parseFloat(s))&&(""===c||e.price<=parseFloat(c))&&(""===m||e.year>=parseInt(m))&&(""===x||e.year<=parseInt(x))&&(""===h||e.km>=parseFloat(h))&&(""===g||e.km<=parseFloat(g)));b(t)},children:"Appliquer les filtres"}),(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>{n(""),d(""),o(""),u(""),p(""),j(""),b(e)},children:"R\xe9initialiser les filtres"})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 text-center justify-center m-4",children:f.map(e=>(0,a.jsx)(l.Z,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,price:e.price,km:e.km,year:e.year},e.id))})]})}},91945:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(3803),i=s(10387),r=s(81466);function l(e){let{name:t,date:s,rating:i,message:r,id:l}=e,n=new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"numeric",day:"numeric"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"card w-full  max-w-xl mx-auto bg-base-100 shadow-xl cursor-pointer",children:(0,a.jsxs)("div",{className:"m-3",children:[(0,a.jsx)("h2",{className:"card-title",children:t}),(0,a.jsx)("p",{className:"clamp-2 flex-grow",children:r||"Aucun message fourni"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{children:n}),(0,a.jsxs)("span",{children:["Note : ",i," ⭐"]}),(0,a.jsx)("button",{onClick:()=>{let e=document.getElementById("".concat(l));e&&e.showModal()},className:"hidden lg:block text-end text-blue-500 hover:underline ",children:"Lire la suite"})]})]})}),(0,a.jsxs)("dialog",{id:"".concat(l),className:"modal",children:[(0,a.jsxs)("form",{method:"dialog",className:"modal-box",children:[(0,a.jsx)("h2",{className:"card-title",children:t}),(0,a.jsx)("p",{children:r||"Aucun message fourni"}),(0,a.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)("span",{children:n}),(0,a.jsxs)("span",{children:["Note : ",i," ⭐"]})]})]}),(0,a.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,a.jsx)("button",{children:"close"})})]})]})}var n=s(84909),c=s.n(n),d=s(53218),m=s(61167),o=s(13082),x=s.n(o);function u(e){let{id:t,imageUrl:s,title:i,descriptionShort:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex mx-10  gap-4 items-center justify-center  py-2",children:[(0,a.jsx)(x(),{src:s,alt:i,width:600,height:200,priority:!0}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h3",{className:"flex text-center",children:i}),(0,a.jsx)("p",{className:"text-justify text-lg font-semibold text-gray-700 bg-gray-100  shadow-md p-4",children:r}),(0,a.jsx)(c(),{href:"/service/".concat(t),className:"m-6 flex btn btn-primary",children:"En savoir plus"})]})]}),(0,a.jsx)("div",{className:"divider m-4"})]})}function h(){let[e,t]=(0,i.useState)({price:"",year:"",title:""}),[s,n]=(0,i.useState)([]),[o,h]=(0,i.useState)([]),[p,g]=(0,i.useState)([]),[j,f]=(0,i.useState)([]);(0,i.useEffect)(()=>{let s=async()=>{try{let[s,a,i,r]=await Promise.all([d.Z.get("/api/cars"),d.Z.get("/api/testimonials"),d.Z.get("/api/settings/textsContents"),d.Z.get("/api/services")]);n(s.data),h(a.data),g(i.data),f(r.data),t({...e,price:s.data})}catch(e){console.error("Erreur de r\xe9cup\xe9ration des donn\xe9es:",e)}};s()},[e]);let b=["Diagnostiques \xe9lectronique","Maintenance et R\xe9parations M\xe9caniques","Services de Carrosserie et Esth\xe9tique "].map(e=>(function(e){let t=j.find(t=>t.title===e);return t||null})(e)),v=function(e){let t=p.find(t=>t.slug===e);return t?t.content:""}("header-text"),N=s.filter(t=>(!e.price||t.price<=parseInt(e.price))&&(!e.year||t.year>=parseInt(e.year))&&(!e.title||t.title.includes(e.title)));return N.length>0&&[...N.map(e=>e.price)],N.length>0&&[...N.map(e=>e.price)],(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("main",{children:[(0,a.jsx)("section",{children:(0,a.jsxs)("div",{className:"hero h-screen bg-[url('/images/iStock-865559764.jpg')] bg-cover bg-center",children:[(0,a.jsx)("div",{className:"hero-overlay bg-opacity-50"}),(0,a.jsxs)("div",{className:"flex hero-content text-center text-neutral-content flex-col justify-evenly",children:[(0,a.jsx)("h1",{className:"mb-5 text-8xl no-wrap font-bold",children:"Garage V. Parrot"}),(0,a.jsx)("p",{"data-slug":"header-text",className:"mt-10 text-2xl sm:hidden md:block",children:v})]})]})}),(0,a.jsxs)("section",{className:"flex flex-col justify-center flex-grow",children:[(0,a.jsx)("h2",{className:"text-center text-3xl",children:"SERVICES"}),b.map((e,t)=>e?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u,{imageUrl:e.imageUrl,descriptionShort:e.descriptionShort,title:e.title,id:t+1},t)}):null)]}),(0,a.jsx)("div",{className:"flex-grow bg-gray-300 h-[30px]"}),(0,a.jsxs)("section",{children:[(0,a.jsx)(m.default,{}),(0,a.jsx)("div",{className:"m-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:N.map(e=>(0,a.jsx)(r.Z,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,price:e.price,km:e.km,year:e.year},e.id))})]}),(0,a.jsx)("div",{className:"flex-grow bg-gray-300 h-[30px]"}),(0,a.jsxs)("section",{className:"flex flex-col justify-center flex-grow",children:[(0,a.jsxs)("div",{className:"flex flex-col content-center bg-cover bg-center bg-no-repeat  justify-evenly lg:flex-row  ",children:[(0,a.jsx)(x(),{style:{width:"auto",height:"auto"},className:"rounded-lg shadow-lg ",src:"/images/iStock-1440540891.jpg",alt:"car",width:500,height:100,priority:!0}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,a.jsx)("p",{className:"m-6 text-lg bold self-center underline lg:block",children:"Partager votre exp\xe9rience:"}),(0,a.jsx)(c(),{className:"btn btn-primary  self-center",href:"/testimonialAddForm",title:"Formulaire de t\xe9moignage ",children:"Laisser un commentaire"})]})]}),(0,a.jsx)("div",{className:"m-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 justify-center",children:o&&o.length>0&&o.map(e=>e.isValidated?(0,a.jsx)(l,{id:e.id,name:e.name,date:e.date,rating:e.rating,message:e.message},e.id):null)})]})]})})}},88162:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return d},unstable_getImgProps:function(){return c}});let a=s(51801),i=s(11147),r=s(28522),l=s(20223),n=a._(s(39050)),c=e=>{(0,r.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}},d=l.Image},13082:function(e,t,s){e.exports=s(88162)}},function(e){e.O(0,[171,223,189,909,666,596,744],function(){return e(e.s=82555)}),_N_E=e.O()}]);